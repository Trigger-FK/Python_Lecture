# PyPIとAnaconda
[Pythonについて](about_python.md)では、ライブラリなるものがあるという話をしました。  
そして、Pythonは2種類存在するという話もしました。
このページでは、Pythonのライブラリをインストールする際に使用する、2つのパッケージ管理システムについて説明します。

## PyPI(The Python Package Index)
Python言語開発コミュニティの"Python Software Foundarion(PSF)"が運営する、Python用ソフトウェアの公開サービス。  
よくWebでの記事で`pip install ~`というのを見ますが、`pip` または `pip3`というコマンドは、このサービスを利用するときに使用します。

PyPIは、誰でも自由に自分のライブラリ（ソフトウェア）を公開・インストールすることが可能です。  
Githubなどで公開されているものは、ほとんどがPyPIに登録されています。

## Anaconda Cloud
Anacondaは、Pythonのライブラリをまとめたパッケージであり、Anaconda Cloudはそのパッケージを公開するための独自サービスです。  
`conda`というコマンドはこのサービスを利用するときに使用します。

なお、PyPIで公開されているライブラリの多くが、Anacondaにも登録されてます。

## 注意点
これまでに、「`pip`と`conda`という、独自のパッケージ管理システムを持っている」と説明をしました。
`conda`はAnaconda以外の環境では使用不可であるのですが、**Anaconda環境では`pip`も使用できます。**  
つまり

* Python公式版：`pip`のみ使用可能
* Anaconda版：`conda`と`pip`の両方使用可能

ということです。
Anacondaについては両方使えるなんて、便利そうな響きですよね、flawlessな香りがしそうですよね。

実は、これには大きな落とし穴があります。そう、**環境が競合する**のです。
わかりやすく言いましょうか、**何もしてないのに環境が壊れるのです**、最高にクレイジーですよね。
執筆者は、この問題により研究室と自宅のPC環境を何度も壊してきました。

`conda`と`pip`のインストールが混在すると、パッケージ間の依存関係に問題が出たり最悪環境が壊れることもあるので、**どちらか一方に統一することを強くおすすめします。**

ただし、`conda`に登録されているパッケージには限りがあり、`pip`にしかないパッケージもあります。
え？それじゃあどうしようもないじゃないかって？ほな、自爆するしか...

いや、そんなことはありません。
が、その場合は`pip`でインストールするしかありません。

お約束として、**Anacondaの環境を利用する場合には`conda`、Anacondaを使わない場合 or Anacondaに無いライブラリを入れる場合には`pip`を使います。**  

!!! note

    AnacondaでPyPIだけにあるライブラリを使用する場合は、`pip`を使用するしか道はありません。
    逆も然りです。
    その際、たとえば、`pip`でインストールする前に以下のコマンドを実行して、「Anacondaで公開されてないか」の確認をすること。
    公開されていなかったら、`pip`を使用してください。
    ```bash title="Terminal"
    conda search [package_name]
    ```
    なお、`pip`でインストールしたライブラリを`conda`でアンインストールすることはできません。

## まとめ
- `conda`と`pip`は、それぞれ独自のパッケージ管理システムを持っている。
- 基本的にライブラリのインストールは、Anaconda環境であれば`conda`、Anaconda環境でなければ`pip`を使用すること。
- `pip`はAnaconda環境でも使用可能、`conda`はAnaconda環境でのみ使用可能。
- `conda`でインストールしたライブラリを`pip`でアンインストールすることはできない。